# 微博热搜分析斜杠命令 (/weibo-analysis) 📊

## 🎯 快速开始

### 方式一：在Claude中使用斜杠命令
```bash
/weibo-analysis
```

### 方式二：运行Python脚本
```bash
python weibo_analysis_command.py
```

### 方式三：运行测试脚本
```bash
python test_weibo_command.py
```

---

## 📋 命令详情

### 触发方式
输入以下任意一种：
- `/weibo-analysis`
- `微博热搜`
- `热搜分析`
- `weibo`
- `热点分析`

### 执行过程
1. ✅ 获取最新微博热搜数据
2. ✅ 分析前10个热门话题
3. ✅ 使用百度AI搜索API调研背景
4. ✅ 生成话题分类和深度洞察
5. ✅ 创建软件产品创意方案
6. ✅ 输出HTML可视化报告

---

## 📄 输出文件

执行完成后会生成以下文件：

### 1. HTML报告 (主要输出)
- **文件名**: `weibo_analysis_report_YYYYMMDD.html`
- **内容**: 可视化的综合分析报告
- **包含**:
  - 数据概览
  - 每个话题的详细分析
  - 背景来龙去脉
  - 产品创意方案
  - 趋势洞察

### 2. JSON数据文件
- **文件名**: `weibo_analysis_results_YYYYMMDD_HHMM.json`
- **内容**: 结构化的分析数据
- **用途**: 二次开发、数据分析

### 3. 原始热搜数据
- **文件名**: `weibo_hot_data_YYYYMMDD_HHMM.json`
- **内容**: 微博热搜原始数据

---

## 🔍 每个话题的分析内容

每个热搜话题都会包含以下完整分析：

### 1. 基本信息
- 话题名称
- 热度数值
- 标签类型（新/沸/热）
- 话题分类（娱乐/社会/经济/科技等）

### 2. 背景来龙去脉
- **搜索来源**: 百度API调用记录
- **事件详情**: 基于真实搜索结果
- **时间线**: 事件发展脉络
- **社会影响**: 搜索到的相关影响分析

### 3. 深度分析
- **用户痛点**: 该话题反映的用户需求
- **市场机会**: 潜在的商业价值
- **创新方向**: 技术/产品创新点

### 4. 软件产品创意 (2个方案)
每个话题都会提供2个软件产品方案：

**产品1**: 数据分析平台
- 实时热点监测
- 趋势预测
- 数据可视化
- 智能报告

**产品2**: 内容创作助手
- 热点内容生成
- 素材推荐
- 传播效果分析
- 多平台分发

---

## 🛠️ 技术架构

### API配置
```python
# 百度千帆AI搜索API
BAIDU_API_URL = "https://qianfan.baidubce.com/v2/ai_search/web_search"
BAIDU_API_KEY = "bce-v3/ALTAK-L6TPvDXqOGEqEIB2Ogh0z/4432bd66294ce9b19fdca57204bd2024c8e40db6"

# 微博热搜API (天API)
WEIBO_API_URL = "https://apis.tianapi.com/weibohot/index"
WEIBO_API_KEY = "ab1cca5ccb089e4bed812457b6b1155a"
```

### 核心文件
- `weibo_analysis_command.py` - 主执行文件
- `.claude/commands/weibo-analysis.md` - 斜杠命令定义
- `.claude/commands/weibo-analysis-implementation.md` - 详细实现文档
- `skill.md` - 原始技能规范文档

### 依赖库
```python
import requests
import json
import time
from datetime import datetime
```

---

## 📊 话题分类系统

自动识别以下分类：
- 🎭 **娱乐**: 剧集、综艺、电影、明星
- 📰 **社会**: 政策、事件、新闻
- 💰 **经济**: 市场、投资、金融
- 🔬 **科技**: AI、技术、创新
- 🎓 **教育**: 考试、学习、学校
- 💚 **健康**: 医疗、养生、生活
- 🎨 **文化**: 传统、艺术、历史
- 🏃 **体育**: 运动、比赛、健身
- 🌍 **国际**: 国外事件、政策
- 📦 **其他**: 未分类话题

---

## ✅ 质量保证

### 必须执行的检查
- [x] 每个热搜话题至少1次百度API搜索
- [x] 背景信息全部基于真实搜索结果
- [x] 禁止虚构事件细节
- [x] 每个话题提供2个软件产品创意
- [x] 所有信息来源标注链接
- [x] 生成HTML格式的可视化报告

### 错误处理
- API调用失败时使用模拟数据继续执行
- 网络异常时跳过该话题并继续
- 搜索结果不足时如实说明
- 所有错误都有日志记录

---

## 🎨 报告样式

HTML报告采用现代化设计：
- 🎨 渐变色背景
- 📱 响应式布局
- 🏷️ 话题标签标识
- 📊 可视化图表
- 💎 卡片式布局
- 🌈 美观的色彩搭配

---

## 💡 使用建议

### 最佳实践
1. **网络稳定**: 确保网络连接良好
2. **耐心等待**: 完整分析约需30-60秒
3. **查看报告**: 重点关注HTML报告的完整内容
4. **二次开发**: 使用JSON数据进行深度分析

### 适用场景
- 📈 市场研究
- 🎯 产品策划
- 📊 舆情监测
- 💼 商业分析
- 🎓 学术研究

---

## 📞 支持与反馈

### 相关文件
- **命令定义**: `.claude/commands/weibo-analysis.md`
- **实现文档**: `.claude/commands/weibo-analysis-implementation.md`
- **技能规范**: `skill.md`

### 版本信息
- **版本**: v2.0
- **创建时间**: 2025-12-22
- **作者**: Claude Code Assistant

---

## 🔥 示例输出

```
==============================================================
🔥 微博热搜分析命令 (/weibo-analysis)
==============================================================
⏰ 执行时间: 2025-12-22 09:30:00
==============================================================

📡 步骤1: 获取微博热搜数据...
🌐 正在请求: https://apis.tianapi.com/weibohot/index
✅ 微博热搜数据获取成功

📊 步骤2: 深度分析热搜话题...
--------------------------------------------------------------
[1/10] 分析话题: 2024年终总结
✅ 分类: 社会
💡 洞察: 用户需要快速了解社会热点...
🎯 产品创意: 社会热点分析平台

✅ 微博热搜分析完成！
==============================================================
📊 分析话题数: 10
📄 报告文件: weibo_analysis_report_251222.html
==============================================================
```

---

**🎉 现在您可以使用 `/weibo-analysis` 命令来分析微博热搜了！**