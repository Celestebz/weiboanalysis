# 🔥 微博热搜分析系统 - 使用指南

## 📖 系统简介

这是一个基于真实API数据的微博热搜分析系统，能够：
- 🔍 **智能获取热搜数据** - 实时从微博API获取最新热搜
- 🤖 **深度背景调研** - 使用百度AI搜索获取话题背景信息
- 💡 **生成产品创意** - 为每个话题提供2个软件产品方案
- 📊 **可视化报告** - 生成美观的HTML分析报告

## 🚀 快速开始

### 方式1: 斜杠命令
```
/weibo-analysis
```

### 方式2: 命令行
```bash
node weibo-analysis-node.js
```

### 方式3: 关键词触发
发送包含以下关键词的消息：
- `微博热搜`
- `热搜分析`
- `微博`
- `热点分析`

## 📊 输出文件

### 1. HTML可视化报告
- **文件名**: `weibo_analysis_report_YYYYMMDD.html`
- **内容**: 完整的话题分析、可视化图表、产品创意
- **打开方式**: 浏览器直接打开

### 2. JSON结构化数据
- **文件名**: `weibo_analysis_results_YYYYMMDD_HHMM.json`
- **内容**: 原始分析数据，用于程序处理

### 3. 原始热搜数据
- **文件名**: `weibo_hot_data_YYYYMMDD_HHMM.json`
- **内容**: 从微博API获取的原始热搜数据

## 🎯 产品创意设计理念

### 趣味度导向产品 (80-90分)
- 🎮 **游戏化体验** - 让复杂概念变得有趣
- 🎨 **创意互动** - AR、VR、小游戏等创新形式
- 📱 **社交分享** - 朋友圈PK、挑战赛等
- 🌟 **情感共鸣** - 满足用户情感需求

### 有用度导向产品 (80-90分)
- 📈 **数据分析** - 专业的数据分析和可视化
- 🔧 **实用工具** - 解决实际问题的功能
- 💼 **商业价值** - 面向B端的专业平台
- 🎓 **知识科普** - 提升用户认知水平

## 🔧 技术架构

### 核心组件
- **Node.js** - 主要开发语言
- **百度千帆AI搜索API** - 背景信息获取
- **天API微博热搜接口** - 热搜数据源
- **HTML/CSS/JavaScript** - 报告可视化

### 数据流程
```
微博热搜数据 → 百度AI搜索 → 智能分类分析 → 产品创意生成 → HTML报告
```

## 💡 产品创意示例

### 话题: "山姆车厘子每斤狂降70元"

**趣味度产品** 🎮
- **产品名**: 车厘子价格体感游戏
- **类型**: 微信小程序
- **核心功能**: 价格预测游戏、AR展示、甜度测试、产地闯关、朋友圈PK

**有用度产品** 📊
- **产品名**: 智能食材价格追踪系统
- **类型**: 移动APP
- **核心功能**: 价格监控、购买提醒、营养分析、替代推荐、预算管理

### 话题: "哈尔滨零下20℃外国游客光腿穿短裤"

**趣味度产品** 🎮
- **产品名**: 极地体验生存游戏
- **类型**: 微信小程序
- **核心功能**: 体感挑战、东北话翻译、冰雪AR、冻梨游戏、文化竞赛

**有用度产品** 📊
- **产品名**: 极地旅游规划助手
- **类型**: 移动APP
- **核心功能**: 天气预警、装备清单、美食推荐、交通优化、应急指南

## 🎨 报告特色

### 可视化元素
- 📊 **数据概览** - 话题数量、分类统计
- 🏷️ **话题标签** - 热度标识（热/新/沸）
- 📈 **评分展示** - 趣味度/有用度可视化
- 🔗 **来源链接** - 所有背景信息标注来源

### 分析维度
1. **📊 基本信息** - 热度、标签、分类
2. **🔍 背景调研** - 基于百度API的真实背景
3. **💡 深度洞察** - 用户痛点、市场机会、创新方向
4. **🎯 产品创意** - 2个针对性的软件产品方案

## ⚙️ 配置说明

### API配置
- **百度千帆AI**: `BAIDU_API_KEY` - 背景搜索
- **微博热搜API**: `WEIBO_API_KEY` - 热搜数据

### 自定义配置
- **话题数量**: 默认分析前10个热搜
- **延迟设置**: API调用间隔500ms（避免频率限制）
- **分类规则**: 基于关键词的智能分类

## 🛠️ 扩展开发

### 添加新的话题匹配
在 `generateProductIdeas` 函数的 `topicSpecificIdeas` 对象中添加：
```javascript
"关键词": {
    fun: { /* 趣味度产品配置 */ },
    useful: { /* 有用度产品配置 */ }
}
```

### 自定义分类规则
在 `categorizeTopic` 函数中修改 `categoryKeywords` 对象。

### 优化评分算法
调整 `fun_score` 和 `useful_score` 的分配策略。

## 📝 更新日志

### v2.0 (2026-01-05)
- ✅ **智能产品创意生成** - 基于话题关键词的精准匹配
- ✅ **真实背景调研** - 集成百度AI搜索API
- ✅ **可视化报告优化** - 更美观的HTML报告设计
- ✅ **趣味/实用双轨** - 清晰的产品定位策略

### v1.0 (基础版本)
- ✅ 微博热搜数据获取
- ✅ 基础话题分类
- ✅ 简单产品创意生成

## 🆘 常见问题

**Q: API调用失败怎么办？**
A: 系统会自动降级到模拟数据模式，确保功能正常运行。

**Q: 如何提高产品创意质量？**
A: 在 `topicSpecificIdeas` 中添加更多话题关键词和对应创意。

**Q: 可以分析更多话题吗？**
A: 可以修改代码中的话题数量限制，但要注意API频率限制。

**Q: 报告能自定义样式吗？**
A: 可以修改 `createHtmlTemplate` 函数中的CSS样式。

## 🎯 最佳实践

1. **定期更新** - 每周运行一次获取最新热搜趋势
2. **关注创意质量** - 基于真实背景生成更有针对性的产品
3. **扩展关键词库** - 不断添加新的话题匹配规则
4. **收集反馈** - 根据用户反馈优化产品创意

---

**🌟 现在就开始使用 `/weibo-analysis` 命令，体验智能产品创意生成吧！**