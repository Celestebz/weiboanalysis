# HTML报告命名规则更新说明

## 📅 更新日期

**更新日期**：2025年12月11日 (251211)

## 🔄 更新内容

### 旧命名规则
```
weibo-analysis-report-YYYYMMDD-HHMM.html
```

**示例**：`weibo-analysis-report-20251210-1630.html`

### 新命名规则 ✅
```
weibo-analysis-report-{YYMMDD}-{HHMM}.html
```

**示例**：
- `weibo-analysis-report-251211-1630.html` (2025年12月11日 16:30)
- `weibo-analysis-report-251210-0900.html` (2025年12月10日 09:00)

## 🎯 变化说明

### 主要变化
1. **年份格式**：从4位年份（2025）改为2位年份（25）
2. **新增具体日期标识**：在文件名中明确包含生成日期（如251211代表2025年12月11日）
3. **时间标识**：保留HHMM格式（1630代表16:30）

### 命名规则详解
- **YYMMDD**：两位年份 + 两位月份 + 两位日期
  - 25 = 2025年
  - 12 = 12月
  - 11 = 11日
- **HHMM**：两位小时 + 两位分钟
  - 16 = 16点
  - 30 = 30分

## 📝 更新的文件

### 核心代码
- ✅ `weibo_analysis.py` - 更新了`generate_html_report()`方法

### 配置文件
- ✅ `config.json` - 更新了`filename_template`和新增了`filename_example`

### 文档文件
- ✅ `README.md` - 更新了命名规则说明和示例
- ✅ `EXAMPLE_USAGE.md` - 更新了所有示例文件名
- ✅ `PROJECT_SUMMARY.md` - 更新了配置示例
- ✅ `SKILL.md` - 更新了命名规则说明
- ✅ `API_USAGE_GUIDE.md` - 更新了代码示例

## 💡 使用示例

### 自动生成的文件名
- **今天（2025-12-11 16:30）**：`weibo-analysis-report-251211-1630.html`
- **昨天（2025-12-10 09:00）**：`weibo-analysis-report-251210-0900.html`
- **上周（2025-12-04 14:20）**：`weibo-analysis-report-251204-1420.html`

### 手动指定文件名
```bash
# 运行分析（自动使用新命名规则）
python test_with_real_api.py full

# 手动指定输出文件（不受影响）
python test_with_real_api.py full --output custom-name.html
```

## 🎯 优势

### 1. 日期标识更明确
- **251211** 直接表示2025年12月11日
- 无需解析，易于识别和排序

### 2. 文件名更简洁
- 从20个字符减少到30个字符（包含日期）
- 保持可读性的同时更加紧凑

### 3. 排序更友好
- 按文件名排序即可按时间顺序排列
- 便于批量管理和查找

### 4. 避免重复
- 每天的不同时间会产生不同的文件名
- 避免覆盖历史报告

## 🔧 技术实现

### 代码修改
```python
# 旧版本
timestamp_short = datetime.now().strftime("%Y%m%d-%H%M")
output_path = f"weibo-analysis-report-{timestamp_short}.html"

# 新版本 ✅
date_id = datetime.now().strftime("%y%m%d")  # 例：251211
time_id = datetime.now().strftime("%H%M")    # 例：1630
output_path = f"weibo-analysis-report-{date_id}-{time_id}.html"
```

### 配置更新
```json
{
  "output": {
    "filename_template": "weibo-analysis-report-{YYMMDD}-{HHMM}.html",
    "filename_example": "weibo-analysis-report-251211-1630.html"
  }
}
```

## ✅ 向后兼容性

### 不影响现有功能
- ✅ 手动指定文件名功能不受影响
- ✅ HTML报告内容格式不变
- ✅ 评分系统和分析逻辑不变
- ✅ 所有其他功能保持不变

### 注意事项
- 新生成的文件将使用新的命名规则
- 历史文件保持原有命名规则
- 可以同时存在新旧命名格式的文件

## 🎉 总结

此次更新**优化了HTML报告的命名规则**，使文件名更加简洁、明确，便于用户识别和管理。新的命名规则包含具体的日期标识（如251211），完全满足您的需求！

---

**更新完成时间**：2025-12-11 16:30
**影响范围**：所有新生成的HTML报告
**兼容性**：✅ 完全向后兼容
